;(function($,_,undefined){"use strict";$.fn.reverse=[].reverse;ips.createModule('ips.cjmg.cjmore',function(){var respond=function(elem,options,e){let more='';if(!elem.data('_more')){more=obj(elem);more.init();elem.data('_more',more);}};ips.ui.registerWidget('cjmore',ips.cjmg.cjmore);return{respond:respond};});let obj=function(el){let init=function(){el=$(el);_doMore();$(window).on('resize',function(){_doMore();})},_doMore=function(){var naturalH=el.find('li:first').outerHeight()+(el.find('li:first').outerHeight()/ 2),unnaturalH=el.find('ul:first').outerHeight();if(unnaturalH>naturalH){_normalize();}},_normalize=function(){let more=el.find('li#cjmg_more'),items=el.find('ul:first').find('li.cjmg_parent_item').not('.cjmg_skip_more');more.removeClass('ipsHide');items.not(more).reverse().each(function(){var clone=$(this).detach();clone=_clean(clone);more.find('ul:first').prepend(clone);var nh=el.find('li:first').outerHeight()+(el.find('li:first').outerHeight()/ 2),uh=el.find('ul:first').outerHeight();if(nh>=uh){return false;}});},_clean=function(item){item.find('i').each(function(){$(this).remove();});item.find('.cjmg_sub_child_container').each(function(){$(this).removeClass('cjmg_sub_child_container').addClass('cjmg_alt_sub_child_container');});item.find('.cjmg_child_container').each(function(){$(this).removeClass('cjmg_child_container').addClass('cjmg_sub_child_container');});if(item.find('div:first').hasClass('cjmg_mega')){item.find('div:first').removeClass('cjmg_mega')}
item.removeAttr('data-ipsmega');item.removeAttr('data-ipsmega-settings');item.addClass('cjmg_first cjmg_child_item').removeClass('cjmg_parent_item').removeClass('cjmg_anchor');return item;};return{init:init}}}(jQuery,_));;
;(function($,_,undefined){"use strict";ips.createModule('ips.cjmg.docking',function(){var respond=function(elem,options,e){var _docking='';if(!elem.data('_docking')){_docking=docking($(elem));_docking.init();elem.data('_docking',_docking);}};ips.ui.registerWidget('docking',ips.cjmg.docking);return{respond:respond};});var docking=function(elem){var
init=function(){_init();$(document).scroll(function(){_init()});},_init=function(){var _scrollPosition=$(document).scrollTop(),_elPositon=elem.parent().offset().top;if(_scrollPosition>_elPositon){_dock();}
else{_undock();}},_dock=function(){if(!elem.hasClass('cjmg_docked')){elem.parent().css('height',elem.height());elem.addClass('cjmg_docked').css('top',0);elem.trigger('cjmgDocking',['docked']);}},_undock=function(){if(elem.hasClass('cjmg_docked')){elem.parent().css('height','');elem.removeClass('cjmg_docked').css('top','');elem.trigger('cjmgDocking',['undock']);}};return{init:init}}}(jQuery,_));;
;(function($,_,undefined){"use strict";var cjmgRunning=false;ips.createModule('ips.cjmg.menu',function(){var respond=function(elem,options,e){var menus='';if(!elem.data('_menus')){menus=cjmg(elem,options);menus.init();elem.data('_menus',menus);}};ips.ui.registerWidget('cjmgm',ips.cjmg.menu,['settings']);return{respond:respond};});var cjmg=function(elem,options){var speed,time,nav,animation,behavior,target,parent,divParent,settings,type;var init=function(){elem=$(elem);settings=$.parseJSON(options.settings);nav=elem.parents('nav');behavior=settings.behavior;type=settings.type;divParent=nav.parent();animation=settings.animation;divParent.on('cjmgDocking',function(e){nav.find('div.cjmg_is_open').each(function(e){_position($(this));});});$(window).on('scroll resize',function(){if(nav.parent('div').hasClass('ipsSticky')){nav.find('div.cjmg_is_open').each(function(e){_position($(this));});}});$(document).on('click touch',function(e){var target=$(e.target),tparent=target.parents('nav'),proceed=1;if(tparent.hasClass('cjmg_nav')){proceed=0;}
if(proceed){_close($('body').find('div.cjmg_is_open'));}});_speed();elem.find('a').on('click',_check);if(divParent.hasClass('cjmg_loc_footer')){$('.cjmg_spacer_footer').css('height',parseInt(nav.parents('.cjmg_container').outerHeight())+20);}
if(type==0){if(behavior==1){elem.find('i').on('click',_init);}
else{elem.find('li.cjmg_anchor').hoverIntent({over:function(e){_position($(this).find('div:first'));_open($(this).find('div:first'))},timeout:settings.hover,out:function(e){_close($(this).find('div:first'));}});}}},_check=function(e){var t=$(e.target);if(!t.is('a')){t=t.parent('a');}
if(t.attr('href')=='#'){e.preventDefault();}},_init=function(e){target=$(e.target);parent=target.parents('li');var child=target.next('div:first');if(child.hasClass('cjmg_is_open')){_close(child);}
else{_position(child);_open(child);}},_position=function(child){var top=0,left=0,width=null,fixed=false,view=$(window).width(),edgeDetection=0,navPos=nav.offset().left,placement=0,altTop=0,docHeight=$(document).outerHeight(),navPosition=nav.offset().top+nav.outerHeight()+child.outerHeight();child.css('top','').css('left','').css('min-width','').css('bottom','').removeClass('cjmg_bottom');if(!child.hasClass('cjmg_is_open')){child.show();}
if(nav.css('position')=='fixed'||divParent.css('position')=='fixed'){top=child.parent('li').height();fixed=true;}
else{top=child.parent('li').position().top+child.parent('li').height();}
if(child.hasClass('cjmg_mega')){if(!nav.hasClass('cjmg_widget')){if(settings.location=='bodyTop'||settings.location=='bodyBottom'){left=Math.ceil(parseInt(nav.position().left));if(left<1){left=Math.ceil(parseInt(nav.offset().left));}}
else{left=parseInt(nav.css('margin-left'));left+=parseInt(nav.css('padding-left'));}}
else if(nav.hasClass('cjmg_widget')){left=0;}
width=nav.width();if(!child.parents('cjmg_mega').css('width')){child.css('width',width);}}
else if(child.hasClass('cjmg_traditional')&&child.parent('li').hasClass('cjmg_parent_item')){left=child.parent('li').position().left;if(left==0){left=child.parent('li').offset().left;}
var margin=parseInt(child.parent('li').css('margin-left'));if(margin!=0){left=left+margin;}
edgeDetection=left+child.outerWidth();placement=child.parent().offset().left-(child.outerWidth()/ 2);child.css('min-width',child.parent('li').width());}
else if(child.hasClass('cjmg_traditional')&&child.hasClass('cjmg_child_container')){var widest=0,ico=null,widestA=0;child.find('ul:first').children('li').each(function(){var foo=$(this);if(foo.find('i.cjmg_arrow').length!=0){widest=foo.find('a:first').outerWidth()+foo.find('i.cjmg_arrow').outerWidth();}
else{widest=foo.find('a:first').outerWidth();}
widestA=foo.find('a:first').outerWidth();foo.css('min-width',widest+5);});top=child.parent('li').position().top+10;if(fixed===false){left=child.parent('li').position().left+child.parent('li').width();if(left==0){left=child.parent('li').offset().left;}
var mainP=child.parents('li.cjmg_parent_item').position().left;edgeDetection=mainP+child.parents('div.cjmg_child_container').offset().left;}
else{left=child.parent('li').width();var pos=child.parent('li').position().left;edgeDetection=navPos+left+pos+child.outerWidth()+child.parent().outerWidth();}
altTop=(child.parent('li').outerHeight()/ 2);placement=-Math.abs((child.parent('li').outerWidth()/ 2));}
if(edgeDetection!=0&&edgeDetection>view){top=top+altTop;left=placement;}
if(divParent.hasClass('cjmg_loc_footer')){top=child.parent('li').outerHeight()+4;if(child.hasClass('cjmg_traditional')&&child.parent('li').hasClass('cjmg_parent_item')){var navTop=nav.offset().top,navHeight=nav.outerHeight(),navBottom=docHeight-(navTop+navHeight);top=navBottom+navHeight;}
child.addClass('cjmg_bottom');child.css('bottom',top);}
else{child.css('top',top);}
child.css('left',left);if(!child.hasClass('cjmg_is_open')){child.hide();}},_resolveDfd=function(child,dfd){if(child.length!=0){_close(child);setTimeout(function(){dfd.resolve();},(time+20));}
else{dfd.resolve();}
$(document).trigger('memuCloseOther',[elem,parent,child,settings]);},_closeOther=function(child){var dfd=$.Deferred(),altChild=$('body').find('div.cjmg_is_open').not(child);if(child.hasClass('cjmg_mega')){_resolveDfd(altChild,dfd);}
else if(child.hasClass('cjmg_traditional')){if(nav.attr('id')==altChild.parents('nav').attr('id')){if(child.parent('li').hasClass('cjmg_parent_item')){altChild=child.parents('ul.cjmg_bar').find('div.cjmg_is_open').not(child);}
else{altChild=child.parent('li').parent().find('div.cjmg_is_open');}}
_resolveDfd(altChild,dfd);}
else{dfd.resolve();}
return dfd.promise();},_speed=function(){speed=settings.speed;switch(speed){case'fast':time=250;break;case'regular':time=500;speed='slow';break;case'slow':time=800;break;default:time=1200;speed='fast';break;}},_open=function(child){_closeOther(child).done(function(){child.addClass('cjmg_is_open');switch(animation){case'show':child.show(time);break;case'fade':ips.utils.anim.go('fadeIn '+speed,child);break;case'slide':child.slideDown(time);break;case'fadeDown':ips.utils.anim.go('fadeInDown '+speed,child);break;case'zoom':ips.utils.anim.go('zoomIn '+speed,child);break;}
child.parent('li').find('i.cjmg_arrow:first').addClass('fa-rotate-180');child.parent('li').addClass('cjmg_open');$(document).trigger('menuOpen',[elem,parent,child,settings]);});},_close=function(child){switch(animation){case'show':child.hide(time);break;case'fade':ips.utils.anim.go('fadeOut '+speed,child);break;case'slide':child.slideUp(time);break;case'fadeDown':ips.utils.anim.go('fadeOutDown '+speed,child);break;case'zoom':ips.utils.anim.go('zoomOut '+speed,child);break;}
child.parent('li').find('i.cjmg_arrow:first').removeClass('fa-rotate-180');child.parent('li').removeClass('cjmg_open');child.removeClass('cjmg_is_open');$(document).trigger('megaClose',[elem,parent,child,settings]);};return{init:init}}}(jQuery,_));;